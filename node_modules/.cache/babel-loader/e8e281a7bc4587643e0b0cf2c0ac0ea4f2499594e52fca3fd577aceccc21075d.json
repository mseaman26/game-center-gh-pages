{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michaelseaman/Desktop/programming_projects/Independant/game-center-gh-pages/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/michaelseaman/Desktop/programming_projects/Independant/game-center-gh-pages/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/michaelseaman/Desktop/programming_projects/Independant/game-center-gh-pages/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/michaelseaman/Desktop/programming_projects/Independant/game-center-gh-pages/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/michaelseaman/Desktop/programming_projects/Independant/game-center-gh-pages/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{signupApi}from'../utils/api/userApi';import{TextField,Button,Container,Typography}from'@material-ui/core';import{useNavigate}from'react-router-dom';import{useAuthContext}from'../utils/authContext';import Auth from'../utils/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignupForm=function SignupForm(){var _useAuthContext=useAuthContext(),currentUser=_useAuthContext.currentUser,setCurrentUser=_useAuthContext.setCurrentUser;var navigate=useNavigate();var _useState=useState({username:'',password:'',email:''}),_useState2=_slicedToArray(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),userSignupError=_useState4[0],setUserSignupError=_useState4[1];var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(_objectSpread(_objectSpread({},userFormData),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Handle signup logic here\n_context.prev=1;_context.next=4;return signupApi(userFormData);case 4:response=_context.sent;console.log(response);if(!response.error){_context.next=8;break;}throw new Error(response.error);case 8:// Handle successful signup, e.g., redirect to login page\nAuth.login(response.token);setCurrentUser(userFormData.username);navigate('/');_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setUserSignupError(true);case 17:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Signup\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",value:userFormData.username,onChange:handleInputChange,fullWidth:true,margin:\"normal\",name:\"username\"}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",value:userFormData.email,onChange:handleInputChange,fullWidth:true,margin:\"normal\",name:\"email\"}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",value:userFormData.password,onChange:handleInputChange,fullWidth:true,margin:\"normal\",name:\"password\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,size:\"large\",children:\"Signup\"})]})]});};export default SignupForm;","map":{"version":3,"names":["React","useState","signupApi","TextField","Button","Container","Typography","useNavigate","useAuthContext","Auth","jsx","_jsx","jsxs","_jsxs","SignupForm","_useAuthContext","currentUser","setCurrentUser","navigate","_useState","username","password","email","_useState2","_slicedToArray","userFormData","setUserFormData","_useState3","_useState4","userSignupError","setUserSignupError","handleInputChange","event","_event$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","sent","console","log","error","Error","login","token","t0","stop","_x","apply","arguments","maxWidth","children","variant","align","gutterBottom","onSubmit","label","onChange","fullWidth","margin","type","color","size"],"sources":["/Users/michaelseaman/Desktop/programming_projects/Independant/game-center-gh-pages/src/pages/SignUp.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { signupApi } from '../utils/api/userApi';\nimport { TextField, Button, Container, Typography } from '@material-ui/core';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthContext } from '../utils/authContext';\nimport Auth from '../utils/auth'\n\nconst SignupForm = () => {\n  const { currentUser, setCurrentUser} = useAuthContext()\n  const navigate = useNavigate()\n  const [userFormData, setUserFormData] = useState({\n    username: '',\n    password: '',\n    email: ''\n  });\n\n  const [userSignupError, setUserSignupError] = useState(false);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // Handle signup logic here\n    try {\n      const response = await signupApi(userFormData);\n      console.log(response)\n      if (response.error) {\n        throw new Error(response.error);\n      }\n      // Handle successful signup, e.g., redirect to login page\n      Auth.login(response.token)\n      setCurrentUser(userFormData.username)\n      navigate('/')\n    } catch (err) {\n      console.error(err);\n      setUserSignupError(true);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\n        Signup\n      </Typography>\n      <form onSubmit={handleSubmit}>\n        <TextField\n          label=\"Username\"\n          value={userFormData.username}\n          onChange={handleInputChange}\n          fullWidth\n          margin=\"normal\"\n          name=\"username\"\n        />\n        <TextField\n          label=\"Email\"\n          value={userFormData.email}\n          onChange={handleInputChange}\n          fullWidth\n          margin=\"normal\"\n          name=\"email\"\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          value={userFormData.password}\n          onChange={handleInputChange}\n          fullWidth\n          margin=\"normal\"\n          name=\"password\"\n        />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          size=\"large\"\n        >\n          Signup\n        </Button>\n      </form>\n    </Container>\n  );\n};\n\nexport default SignupForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}